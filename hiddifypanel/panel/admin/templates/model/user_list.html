{% extends 'hiddify-flask-admin/list.html' %}

{% block body %}
    {{super()}}

    <div class="callout callout-success">
        {{_('User usage will be updated every 6 minutes. To update it now click <button class="btn btn-info" onclick="updateUsage()">update</button>')}}
    </div>
    <style>
        .table td{
            vertical-align: middle;
        }
        .col-name{
            white-space: nowrap;
        }
    .col-expiry_time{
        white-space: nowrap;
    }
    
    td.col-domain{
        /* direction:ltr */
    }
    .col-UserLinks a{
        text-overflow: ellipsis;
    white-space: nowrap;
    max-width: 100px;
    overflow: hidden;
    }
    .col-uuid span{
        text-overflow: ellipsis;
    white-space: nowrap;
    width: 80px;
    overflow: hidden;
    display: inline-block;
    }
    </style>

    <script>
        const url = '{{url_for("admin.Actions:update_usage")}}'
        const req = new XMLHttpRequest();

        function updateUsage(){
            req.open("GET", url);
            req.send();
        }
    </script>
{% endblock %}